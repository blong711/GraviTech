{%- liquid
  assign cookie_message = section.settings.cookie_message
  assign privacy_policy_url = section.settings.privacy_policy_url
  assign accept_button_text = section.settings.accept_button_text
  assign privacy_button_text = section.settings.privacy_button_text
-%}

  <div class="cookie-banner" id="cookie-banner" data-section-id="{{ section.id }}" data-section-type="cookies-popup" data-show-banner="{{ section.settings.show_cookie_banner }}">
    <div class="overlay"></div>
    <div class="content">
      <p class="text-md">{{ cookie_message | default: 'sections.cookies_popup.default_message' | t }}</p>
      <div class="button-group">
        {%- if privacy_policy_url != blank -%}
          <a class="btn-out-line-white btn-submit-total tf-btn" href="{{ privacy_policy_url }}">
            {{ privacy_button_text | default: 'sections.cookies_popup.privacy_policy' | t }}
          </a>
        {%- endif -%}
        <button id="accept-cookie" class="accept-button btn-out-line-white btn-submit-total tf-btn">
          {{ accept_button_text | default: 'sections.cookies_popup.accept_cookies' | t }}
        </button>
      </div>
    </div>
  </div>

{% schema %}
{
  "name": "t:sections.cookies_popup.name",
  "settings": [
    {
      "type": "paragraph",
      "content": "t:sections.cookies_popup.settings.paragraph_1.content"
    },
    {
      "type": "paragraph", 
      "content": "t:sections.cookies_popup.settings.paragraph_2.content"
    },
    {
      "type": "paragraph",
      "content": "t:sections.cookies_popup.settings.paragraph_3.content"
    },
    {
      "type": "paragraph",
      "content": "t:sections.cookies_popup.settings.paragraph_4.content"
    },
    {
      "type": "paragraph",
      "content": "t:sections.cookies_popup.settings.paragraph_5.content"
    },
    {
      "type": "paragraph",
      "content": "t:sections.cookies_popup.settings.paragraph_6.content"
    },
    {
      "type": "radio",
      "id": "show_cookie_banner",
      "label": "t:sections.cookies_popup.settings.show_cookie_banner.label",
      "options": [
        {
          "value": "all_regions",
          "label": "t:sections.cookies_popup.settings.show_cookie_banner.options.all_regions.label"
        },
        {
          "value": "targeted_regions",
          "label": "t:sections.cookies_popup.settings.show_cookie_banner.options.targeted_regions.label"
        }
      ],
      "default": "all_regions"
    },
    {
      "type": "textarea",
      "id": "cookie_message",
      "label": "t:sections.cookies_popup.settings.cookie_message.label",
      "default": "t:sections.cookies_popup.settings.cookie_message.default"
    },
    {
      "type": "text",
      "id": "privacy_button_text",
      "label": "t:sections.cookies_popup.settings.privacy_button_text.label",
      "default": "t:sections.cookies_popup.settings.privacy_button_text.default"
    },
    {
      "type": "url",
      "id": "privacy_policy_url",
      "label": "t:sections.cookies_popup.settings.privacy_policy_url.label"
    },
    {
      "type": "text",
      "id": "accept_button_text",
      "label": "t:sections.cookies_popup.settings.accept_button_text.label",
      "default": "t:sections.cookies_popup.settings.accept_button_text.default"
    }
  ],
  "presets": [
    {
      "name": "t:sections.cookies_popup.name"
    }
  ]
}
{% endschema %}